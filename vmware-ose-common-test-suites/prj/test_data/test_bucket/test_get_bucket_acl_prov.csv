TCID,CaseTitle,Catalog,Priority,Variables,PreCondition,Role,ClientType,AuthSettings,Action,Parameter,ExpectResponseCode,ExpectResponseHeader,ExpectResponseBody,ExpectResponseBodySchema,PostValidation,Cleanup,Description,Comment
TestBucket#test14_test_get_bucket_acl#2,get bucket acl of own bucket ,get bucket acl|Bucket,P0,"{""bucket_name"": ""bkt-acl.%s""%random_bucket_name()}","[(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"": self.variables[""bucket_name""], ""Key"":""obj-group1-user1"", ""Body"":""Test""}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{""Bucket"":self.variables[""bucket_name""]}",200,,"{'Owner': {'DisplayName': self.get_user_info(""group1:user1"").get(""user_name""), 'ID': self.get_user_info(""group1:user1"").get(""user_id"")}, 'Grants': [{'Grantee': {'DisplayName': self.get_user_info(""group1:user1"").get(""user_name""), 'ID': self.get_user_info(""group1:user1"").get(""user_id"")}, 'Permission': 'FULL_CONTROL'}]}",,,"[(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestBucket#test14_test_get_bucket_acl#3,get bucket acl of shared bucket(same tenant) with read_acp permission ,get bucket acl|Bucket,P0,"{""bucket_name"": ""bkt-acl.%s""%random_bucket_name()}","[(""group1:user2"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [200]),
(""group1:user2"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"": self.variables[""bucket_name""], ""Key"":""obj-group1-user1"", ""Body"":""Test""}, [200]),
(""group1:user2"", ""S3CompatibleAPI"", ""put_bucket_acl"", {""Bucket"":self.variables[""bucket_name""], ""AccessControlPolicy"":{""Grants"":[{""Grantee"":{""DisplayName"":self.get_user_info(""group1:user1"").get(""user_name""), ""ID"":self.get_user_info(""group1:user1"").get(""user_id""), ""Type"":""CanonicalUser""}, ""Permission"":""READ_ACP""}], ""Owner"":{""DisplayName"":self.get_user_info(""group1:user2"").get(""user_name""), ""ID"":self.get_user_info(""group1:user2"").get(""user_id"")}}}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{""Bucket"":self.variables[""bucket_name""]}",200,,"{'Owner': {'DisplayName': self.get_user_info(""group1:user2"").get(""user_name""), 'ID': self.get_user_info(""group1:user2"").get(""user_id"")}, 'Grants': [{'Grantee': {'DisplayName': self.get_user_info(""group1:user1"").get(""user_name""), 'ID': self.get_user_info(""group1:user1"").get(""user_id"")}, 'Permission': 'READ_ACP'}, {'Grantee': {'DisplayName': self.get_user_info(""group1:user2"").get(""user_name""), 'ID': self.get_user_info(""group1:user2"").get(""user_id"")}, 'Permission': 'FULL_CONTROL'}]}",,,"[(""group1:user2"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestBucket#test14_test_get_bucket_acl#4,get bucket acl of shared bucket(same tenant) without read_acp permission ,get bucket acl|Bucket,P0,"{""bucket_name"": ""bkt-acl.%s""%random_bucket_name()}","[(""group1:user2"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [200]),
(""group1:user2"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"": self.variables[""bucket_name""], ""Key"":""obj-group1-user1"", ""Body"":""Test""}, [200]),
(""group1:user2"", ""S3CompatibleAPI"", ""put_bucket_acl"", {""Bucket"":self.variables[""bucket_name""], ""AccessControlPolicy"":{""Grants"":[{""Grantee"":{""DisplayName"":self.get_user_info(""group1:user1"").get(""user_name""), ""ID"":self.get_user_info(""group1:user1"").get(""user_id""), ""Type"":""CanonicalUser""}, ""Permission"":""READ""}], ""Owner"":{""DisplayName"":self.get_user_info(""group1:user2"").get(""user_name""), ""ID"":self.get_user_info(""group1:user2"").get(""user_id"")}}}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{""Bucket"":self.variables[""bucket_name""]}",403,,"{'Error': {'Status': '403', 'Code': 'AccessDenied', 'Message': str, 'Resource': str}}",,,"[(""group1:user2"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestBucket#test14_test_get_bucket_acl#5,get bucket acl of shared bucket(different tenant) with read_acp permission ,get bucket acl|Bucket,P0,"{""bucket_name"": ""bkt-acl.%s""%random_bucket_name()}","[(""group2:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [200]),
(""group2:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"": self.variables[""bucket_name""], ""Key"":""obj-group1-user1"", ""Body"":""Test""}, [200]),
(""group2:user1"", ""S3CompatibleAPI"", ""put_bucket_acl"", {""Bucket"":self.variables[""bucket_name""], ""AccessControlPolicy"":{""Grants"":[{""Grantee"":{""DisplayName"":self.get_user_info(""group1:user1"").get(""user_name""), ""ID"":self.get_user_info(""group1:user1"").get(""user_id""), ""Type"":""CanonicalUser""}, ""Permission"":""READ_ACP""}], ""Owner"":{""DisplayName"":self.get_user_info(""group2:user1"").get(""user_name""), ""ID"":self.get_user_info(""group2:user1"").get(""user_id"")}}}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{""Bucket"":self.variables[""bucket_name""]}",200,,"{'Owner': {'DisplayName': 'Foreign User (%s)'%self.get_user_info(""group2:user1"").get(""user_name""), 'ID': self.get_user_info(""group2:user1"").get(""canonical_id"")}, 'Grants': [{'Grantee': {'DisplayName': self.get_user_info(""group1:user1"").get(""user_name""), 'ID': self.get_user_info(""group1:user1"").get(""user_id"")}, 'Permission': 'READ_ACP'}, {'Grantee': {'DisplayName': 'Foreign User (%s)'%self.get_user_info(""group2:user1"").get(""user_name""), 'ID': self.get_user_info(""group2:user1"").get(""canonical_id"")}, 'Permission': 'FULL_CONTROL'}]}",,,"[(""group2:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,Bug 4503
TestBucket#test14_test_get_bucket_acl#6,get bucket acl of shared bucket(different tenant) without read_acp permission ,get bucket acl|Bucket,P0,"{""bucket_name"": ""bkt-acl.%s""%random_bucket_name()}","[(""group2:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [200]),
(""group2:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"": self.variables[""bucket_name""], ""Key"":""obj-group1-user1"", ""Body"":""Test""}, [200]),
(""group2:user1"", ""S3CompatibleAPI"", ""put_bucket_acl"", {""Bucket"":self.variables[""bucket_name""], ""AccessControlPolicy"":{""Grants"":[{""Grantee"":{""DisplayName"":self.get_user_info(""group1:user1"").get(""user_name""), ""ID"":self.get_user_info(""group1:user1"").get(""user_id""), ""Type"":""CanonicalUser""}, ""Permission"":""READ""}], ""Owner"":{""DisplayName"":self.get_user_info(""group2:user1"").get(""user_name""), ""ID"":self.get_user_info(""group2:user1"").get(""user_id"")}}}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{""Bucket"":self.variables[""bucket_name""]}",403,,"{'Error': {'Status': '403', 'Code': 'AccessDenied', 'Message': str, 'Resource': str}}",,,"[(""group2:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestBucket#test14_test_get_bucket_acl#7,get bucket acl of shared bucket(different tenant) without read_acp permission ,get bucket acl|RequestPayer,P3,"{'bucket_name': '""bkt-default.%s""%timestamp(format=""%Y-%m-%dt%H-%M-%S.%fz"")'}","[(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"":""self.variables[""bucket_name""]""}, [204, 404]),
(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"":""self.variables[""bucket_name""]""}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"":""self.variables[""bucket_name""]"", ""Key"":""obj-default"", ""Body"":""Test""}, [200])]",group1:user1,S3CompatibleAPI,,get_bucket_acl,"{'Bucket': 'self.variables[""bucket_name""]', 'RequestPayer': 'TODO'}",200,,,,,"[(""group2:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,Only supported by AWS